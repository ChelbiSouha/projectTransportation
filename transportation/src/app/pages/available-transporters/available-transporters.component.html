<div class="available-transporters-container">
  <h2 class="page-title">🚛 Transporteurs disponibles pour l'expédition</h2>

  <div *ngIf="loading" class="loading-message">Chargement...</div>
  <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>

  <div *ngIf="shipmentRequests.length === 0 && !loading" class="no-requests">
    Aucun transporteur n’a encore proposé de devis pour cette expédition.
  </div>

  <div *ngFor="let request of shipmentRequests" class="transporter-card">
    <div class="transporter-header">
      <h3>{{ request.transporter.name }}</h3>
      <p class="username">👤 Nom d'utilisateur : {{ request.transporter.user.username }}</p>
      <p class="phone">📞 Téléphone : {{ request.transporter.phone }}</p>
      <p class="vehicle-type">🚐 Type de véhicule : {{ request.transporter.vehicleType }}</p>
    </div>

    <div class="quote-details">
      <p><strong>Prix proposé :</strong> {{ request.proposedPrice }} TND</p>
      <p><strong>Commentaires :</strong> {{ request.additionalDetails || 'Aucun' }}</p>
    </div>

    <div class="review-info">
      ⭐ {{ request.transporter.rating }} • {{ request.transporter.totalReviews }} avis
    </div>

    <button class="confirm-btn" (click)="confirmTransporter(request.transporter.id)">
      ✅ Confirmer
    </button>
  </div>
</div>
